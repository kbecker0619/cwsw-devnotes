/** @file cwsw_swtimer.c
 *
 *	Description:
 *
 *	Copyright (c) 2020 Kevin L. Becker. All rights reserved.
 *
 *	Original:
 *	Created on: Feb 21, 2020
 *	Author: KBECKE35
 */

// ============================================================================
// ----	Include Files ---------------------------------------------------------
// ============================================================================

// ----	System Headers --------------------------

// ----	Project Headers -------------------------

// ----	Module Headers --------------------------
#include "cwsw_swtimer.h"


// ============================================================================
// ----	Constants -------------------------------------------------------------
// ============================================================================

// ============================================================================
// ----	Type Definitions ------------------------------------------------------
// ============================================================================

// ============================================================================
// ----	Global Variables ------------------------------------------------------
// ============================================================================

// ============================================================================
// ----	Module-level Variables ------------------------------------------------
// ============================================================================

// ============================================================================
// ----	Private Functions -----------------------------------------------------
// ============================================================================

// ============================================================================
// ----	Public Functions ------------------------------------------------------
// ============================================================================

/**	Initialize the SW Timer. Leaves the timer initialized, but disabled.
 *  does not allow for an initial timeout different than rearm time
 */
tClkSvc_ErrorCodes
Cwsw_SwTmr__Init(pCwswSwTimer pTimer, tCwswClockTics armtm, int16_t ev)
{
	if(pTimer)
	{
		pTimer->tm = armtm;
		pTimer->reloadtm = armtm;
		pTimer->evid = ev;
		pTimer->tmrstate = kSwTimerDisabled;
		return kSwTmr_Err_NoError;
	}
	return kSwTmr_Err_BadParm;
}


void
Cwsw_SwTmr__SetState(pCwswSwTimer pTimer, tSwTimerState newstate)
{
	if(pTimer)
	{
		pTimer->tmrstate = newstate;
	}
}


